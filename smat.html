<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBudget AI - Personal Finance Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .achievement-glow { animation: glow 2s ease-in-out infinite alternate; }
        @keyframes glow { from { box-shadow: 0 0 5px #fbbf24; } to { box-shadow: 0 0 20px #fbbf24, 0 0 30px #fbbf24; } }
        .streak-fire { animation: bounce 1s ease-in-out infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                        <span class="text-2xl">üí∞</span>
                    </div>
                    <h1 class="text-2xl font-bold">SmartBudget AI</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 bg-white/20 rounded-full px-4 py-2">
                        <span class="streak-fire">üî•</span>
                        <span class="font-semibold" id="savingsStreak">7 Day Streak</span>
                    </div>
                    <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                        <span class="text-xl">üë§</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Dashboard Overview -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Monthly Income</p>
                        <p class="text-2xl font-bold text-green-600" id="monthlyIncome">‚Çπ75,000</p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                        <span class="text-2xl">üíµ</span>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Total Expenses</p>
                        <p class="text-2xl font-bold text-red-500" id="totalExpenses">‚Çπ52,400</p>
                    </div>
                    <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center">
                        <span class="text-2xl">üí∏</span>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Predicted Savings</p>
                        <p class="text-2xl font-bold text-blue-600" id="predictedSavings">‚Çπ22,600</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                        <span class="text-2xl">üéØ</span>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Savings Rate</p>
                        <p class="text-2xl font-bold text-purple-600" id="savingsRate">30.1%</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                        <span class="text-2xl">üìà</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Input & AI Insights -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Income & Expense Input -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <span class="mr-2">üìä</span>
                        Add Income & Expenses
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Monthly Income</label>
                            <input type="number" id="incomeInput" placeholder="75000" 
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                            <select id="categorySelect" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="food">üçï Food & Dining</option>
                                <option value="rent">üè† Rent & Housing</option>
                                <option value="transport">üöó Transportation</option>
                                <option value="shopping">üõçÔ∏è Shopping</option>
                                <option value="entertainment">üé¨ Entertainment</option>
                                <option value="utilities">‚ö° Utilities</option>
                                <option value="healthcare">üè• Healthcare</option>
                                <option value="other">üì¶ Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Amount</label>
                            <input type="number" id="expenseAmount" placeholder="5000" 
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <input type="text" id="expenseDescription" placeholder="Groceries, restaurants..." 
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button onclick="addExpense()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                            Add Expense
                        </button>
                        <button onclick="analyzeSpending()" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                            ü§ñ AI Analysis
                        </button>
                    </div>
                </div>

                <!-- AI Insights Panel -->
                <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 card-shadow border border-purple-200">
                    <h3 class="text-lg font-semibold mb-4 flex items-center text-purple-800">
                        <span class="mr-2">ü§ñ</span>
                        AI Financial Insights
                    </h3>
                    <div id="aiInsights" class="space-y-3">
                        <div class="bg-white rounded-lg p-4 border-l-4 border-orange-400">
                            <p class="text-sm text-gray-700">
                                <span class="font-semibold text-orange-600">‚ö†Ô∏è Overspending Alert:</span>
                                You're spending 40% of your income on food & dining. Consider reducing restaurant visits by 2-3 times per week to save ‚Çπ3,000 monthly.
                            </p>
                        </div>
                        <div class="bg-white rounded-lg p-4 border-l-4 border-green-400">
                            <p class="text-sm text-gray-700">
                                <span class="font-semibold text-green-600">‚úÖ Good Job:</span>
                                Your housing costs are well within the recommended 30% of income. Keep it up!
                            </p>
                        </div>
                        <div class="bg-white rounded-lg p-4 border-l-4 border-blue-400">
                            <p class="text-sm text-gray-700">
                                <span class="font-semibold text-blue-600">üí° Suggestion:</span>
                                Based on your spending pattern, you could save an additional ‚Çπ5,000 by following the optimized budget plan below.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Expense List -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4">Recent Expenses</h3>
                    <div id="expenseList" class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üçï</span>
                                <div>
                                    <p class="font-medium">Food & Dining</p>
                                    <p class="text-sm text-gray-600">Restaurants, groceries</p>
                                </div>
                            </div>
                            <span class="font-semibold text-red-500">‚Çπ15,000</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üè†</span>
                                <div>
                                    <p class="font-medium">Rent & Housing</p>
                                    <p class="text-sm text-gray-600">Monthly rent</p>
                                </div>
                            </div>
                            <span class="font-semibold text-red-500">‚Çπ20,000</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üöó</span>
                                <div>
                                    <p class="font-medium">Transportation</p>
                                    <p class="text-sm text-gray-600">Fuel, public transport</p>
                                </div>
                            </div>
                            <span class="font-semibold text-red-500">‚Çπ8,000</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Charts & Gamification -->
            <div class="space-y-6">
                <!-- Spending Breakdown Chart -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4">Spending Breakdown</h3>
                    <div class="relative h-64">
                        <canvas id="spendingChart"></canvas>
                    </div>
                </div>

                <!-- Budget Plan -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">üìã</span>
                        Optimized Budget Plan
                    </h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Housing (30%)</span>
                            <span class="font-semibold">‚Çπ22,500</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-600 h-2 rounded-full" style="width: 30%"></div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Food (20%)</span>
                            <span class="font-semibold">‚Çπ15,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-600 h-2 rounded-full" style="width: 20%"></div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Transportation (10%)</span>
                            <span class="font-semibold">‚Çπ7,500</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-yellow-600 h-2 rounded-full" style="width: 10%"></div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Entertainment (10%)</span>
                            <span class="font-semibold">‚Çπ7,500</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-purple-600 h-2 rounded-full" style="width: 10%"></div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Savings (30%)</span>
                            <span class="font-semibold text-green-600">‚Çπ22,500</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 30%"></div>
                        </div>
                    </div>
                </div>

                <!-- Achievements -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">üèÜ</span>
                        Achievements
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg achievement-glow">
                            <span class="text-2xl">üî•</span>
                            <div>
                                <p class="font-medium text-yellow-800">7-Day Savings Streak</p>
                                <p class="text-sm text-yellow-600">Keep it up! You're on fire!</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                            <span class="text-2xl">üí∞</span>
                            <div>
                                <p class="font-medium text-green-800">‚Çπ10K Milestone</p>
                                <p class="text-sm text-green-600">First major savings goal reached!</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                            <span class="text-2xl">üìä</span>
                            <div>
                                <p class="font-medium text-blue-800">Budget Master</p>
                                <p class="text-sm text-blue-600">Stayed within budget for 3 months</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3 p-3 bg-gray-100 rounded-lg opacity-60">
                            <span class="text-2xl">üéØ</span>
                            <div>
                                <p class="font-medium text-gray-600">‚Çπ50K Saver</p>
                                <p class="text-sm text-gray-500">Save ‚Çπ50,000 total (‚Çπ27,400 to go)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Savings Trend -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4">Savings Trend</h3>
                    <div class="relative h-48">
                        <canvas id="savingsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data
        let expenses = [
            { category: 'food', amount: 15000, description: 'Restaurants, groceries', icon: 'üçï' },
            { category: 'rent', amount: 20000, description: 'Monthly rent', icon: 'üè†' },
            { category: 'transport', amount: 8000, description: 'Fuel, public transport', icon: 'üöó' },
            { category: 'shopping', amount: 5000, description: 'Clothes, electronics', icon: 'üõçÔ∏è' },
            { category: 'entertainment', amount: 4400, description: 'Movies, games', icon: 'üé¨' }
        ];

        let monthlyIncome = 75000;

        // Initialize charts
        function initCharts() {
            // Spending breakdown pie chart
            const ctx1 = document.getElementById('spendingChart').getContext('2d');
            new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: ['Food', 'Rent', 'Transport', 'Shopping', 'Entertainment'],
                    datasets: [{
                        data: [15000, 20000, 8000, 5000, 4400],
                        backgroundColor: [
                            '#ef4444', '#3b82f6', '#f59e0b', '#10b981', '#8b5cf6'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { usePointStyle: true, padding: 15 }
                        }
                    }
                }
            });

            // Savings trend line chart
            const ctx2 = document.getElementById('savingsChart').getContext('2d');
            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Monthly Savings',
                        data: [18000, 22000, 19500, 25000, 23500, 22600],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '‚Çπ' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });
        }

        // Add expense function
        function addExpense() {
            const category = document.getElementById('categorySelect').value;
            const amount = parseFloat(document.getElementById('expenseAmount').value);
            const description = document.getElementById('expenseDescription').value;

            if (!amount || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }

            const categoryIcons = {
                'food': 'üçï', 'rent': 'üè†', 'transport': 'üöó', 
                'shopping': 'üõçÔ∏è', 'entertainment': 'üé¨', 'utilities': '‚ö°',
                'healthcare': 'üè•', 'other': 'üì¶'
            };

            const newExpense = {
                category: category,
                amount: amount,
                description: description || 'No description',
                icon: categoryIcons[category]
            };

            expenses.push(newExpense);
            updateExpenseList();
            updateDashboard();

            // Clear inputs
            document.getElementById('expenseAmount').value = '';
            document.getElementById('expenseDescription').value = '';
        }

        // Update expense list display
        function updateExpenseList() {
            const expenseList = document.getElementById('expenseList');
            expenseList.innerHTML = '';

            expenses.slice(-5).reverse().forEach(expense => {
                const expenseItem = document.createElement('div');
                expenseItem.className = 'flex items-center justify-between p-3 bg-gray-50 rounded-lg';
                expenseItem.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <span class="text-2xl">${expense.icon}</span>
                        <div>
                            <p class="font-medium">${expense.category.charAt(0).toUpperCase() + expense.category.slice(1)}</p>
                            <p class="text-sm text-gray-600">${expense.description}</p>
                        </div>
                    </div>
                    <span class="font-semibold text-red-500">‚Çπ${expense.amount.toLocaleString()}</span>
                `;
                expenseList.appendChild(expenseItem);
            });
        }

        // Update dashboard numbers
        function updateDashboard() {
            const totalExpenses = expenses.reduce((sum, expense) => sum + expense.amount, 0);
            const predictedSavings = monthlyIncome - totalExpenses;
            const savingsRate = ((predictedSavings / monthlyIncome) * 100).toFixed(1);

            document.getElementById('totalExpenses').textContent = `‚Çπ${totalExpenses.toLocaleString()}`;
            document.getElementById('predictedSavings').textContent = `‚Çπ${predictedSavings.toLocaleString()}`;
            document.getElementById('savingsRate').textContent = `${savingsRate}%`;
        }

        // AI Analysis function
        function analyzeSpending() {
            const totalExpenses = expenses.reduce((sum, expense) => sum + expense.amount, 0);
            const categoryTotals = {};
            
            expenses.forEach(expense => {
                categoryTotals[expense.category] = (categoryTotals[expense.category] || 0) + expense.amount;
            });

            const insights = [];
            
            // Check for overspending
            Object.entries(categoryTotals).forEach(([category, amount]) => {
                const percentage = (amount / monthlyIncome) * 100;
                if (percentage > 25 && category === 'food') {
                    insights.push({
                        type: 'warning',
                        message: `You're spending ${percentage.toFixed(1)}% of your income on food & dining. Consider reducing restaurant visits by 2-3 times per week to save ‚Çπ${Math.round(amount * 0.2).toLocaleString()} monthly.`
                    });
                } else if (percentage > 35 && category === 'rent') {
                    insights.push({
                        type: 'warning',
                        message: `Housing costs are ${percentage.toFixed(1)}% of income. Consider finding a more affordable place or getting roommates.`
                    });
                }
            });

            // Add positive feedback
            if ((categoryTotals.rent || 0) / monthlyIncome <= 0.3) {
                insights.push({
                    type: 'success',
                    message: 'Your housing costs are well within the recommended 30% of income. Keep it up!'
                });
            }

            // Add savings suggestion
            const currentSavings = monthlyIncome - totalExpenses;
            const potentialSavings = Math.round(totalExpenses * 0.1);
            insights.push({
                type: 'info',
                message: `Based on your spending pattern, you could save an additional ‚Çπ${potentialSavings.toLocaleString()} by following the optimized budget plan.`
            });

            displayInsights(insights);
        }

        // Display AI insights
        function displayInsights(insights) {
            const insightsContainer = document.getElementById('aiInsights');
            insightsContainer.innerHTML = '';

            insights.forEach(insight => {
                const insightDiv = document.createElement('div');
                const borderColor = insight.type === 'warning' ? 'border-orange-400' : 
                                  insight.type === 'success' ? 'border-green-400' : 'border-blue-400';
                const iconColor = insight.type === 'warning' ? 'text-orange-600' : 
                                insight.type === 'success' ? 'text-green-600' : 'text-blue-600';
                const icon = insight.type === 'warning' ? '‚ö†Ô∏è' : 
                           insight.type === 'success' ? '‚úÖ' : 'üí°';
                const label = insight.type === 'warning' ? 'Overspending Alert' : 
                            insight.type === 'success' ? 'Good Job' : 'Suggestion';

                insightDiv.className = `bg-white rounded-lg p-4 border-l-4 ${borderColor}`;
                insightDiv.innerHTML = `
                    <p class="text-sm text-gray-700">
                        <span class="font-semibold ${iconColor}">${icon} ${label}:</span>
                        ${insight.message}
                    </p>
                `;
                insightsContainer.appendChild(insightDiv);
            });
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            updateExpenseList();
            updateDashboard();
            
            // Update income when changed
            document.getElementById('incomeInput').addEventListener('change', function() {
                const newIncome = parseFloat(this.value);
                if (newIncome > 0) {
                    monthlyIncome = newIncome;
                    document.getElementById('monthlyIncome').textContent = `‚Çπ${newIncome.toLocaleString()}`;
                    updateDashboard();
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97716750029a33c0',t:'MTc1NjUyNjY2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
